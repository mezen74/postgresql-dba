# Домашнее задание #1

## Работа с уровнями изоляции транзакций


- посмотреть текущий уровень изоляции: show transaction isolation level

     **Текущий уровень изоляции - read commited. Этот уровень изоляции используется в PostgreSQL по умолчанию**

- начать новую транзакцию в обоих сессиях с дефолтным (не меняя) уровнем изоляции
- в первой сессии добавить новую запись insert into persons(first_name, second_name) values('sergey',
'sergeev');
- сделать select * from persons во второй сессии
- видите ли вы новую запись и если да то почему?

     **Новой записи не вижу, потому что в первой сессии изменения не были подтверждены. На уровне изоляции read commited транзакция видит только подтверждённые изменения, грязное чтение не допускается**

- завершить первую транзакцию - commit;
- сделать select * from persons во второй сессии
- видите ли вы новую запись и если да то почему?

     **Новая запись теперь видна, потому что в первой сессии транзакция подтвердила изменения. На уровне read commited допускается аномалия неповторяющегося чтения**

- завершите транзакцию во второй сессии
- начать новые но уже repeatable read транзакции - set transaction isolation level repeatable read;
- в первой сессии добавить новую запись insert into persons(first_name, second_name) values('sveta',
'svetova');
- сделать select * from persons во второй сессии
- видите ли вы новую запись и если да то почему?

     **Новой записи не вижу, потому что в первой сессии транзакция не подтвердила изменения. На уровне repeatable read грязное чтение не допускается.**

- завершить первую транзакцию - commit;
- сделать select * from persons во второй сессии
- видите ли вы новую запись и если да то почему?

     **Новой записи не вижу, потому что на уровне repeatable read неповторяющееся чтение не допускается.**

- завершить вторую транзакцию
- сделать select * from persons во второй сессии
- видите ли вы новую запись и если да то почему? 

     **Новую запись вижу, потому что при выполнении запроса стартовала новая транзакция, и на момент старта транзакции эта запись уже была подтверждена.**
